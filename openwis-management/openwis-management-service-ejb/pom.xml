<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
	<parent>
		<artifactId>openwis-management</artifactId>
		<groupId>io.openwis.management</groupId>
		<version>develop-SNAPSHOT</version>
		<relativePath>../pom.xml</relativePath>
	</parent>

	<groupId>io.openwis.management.service</groupId>
	<artifactId>openwis-management-service-ejb</artifactId>
	<packaging>jar</packaging>

	<name>openwis-management-service-ejb</name>

	<properties>
		<version.org.apache.openejb_openejb.core>3.1.3</version.org.apache.openejb_openejb.core>
	</properties>

	<dependencies>
	  <dependency>
		<groupId>junit</groupId>
		<artifactId>junit</artifactId>
	  </dependency>
	  <dependency>
		<groupId>com.sun.javaee</groupId>
		<artifactId>javaee</artifactId>
      </dependency>
	  <dependency>
		<groupId>io.openwis.management.service</groupId>
		<artifactId>openwis-management-service-common</artifactId>
		<version>${project.version}</version>
		<type>jar</type>
	  </dependency>
	  <dependency>
		<groupId>log4j</groupId>
		<artifactId>log4j</artifactId>
		<!-- Same as the dependency in commons-logging -->
	  </dependency>
	  <dependency>
		<groupId>org.slf4j</groupId>
		<artifactId>slf4j-api</artifactId>
	  </dependency>
	  <dependency>
		<groupId>org.slf4j</groupId>
		<artifactId>slf4j-log4j12</artifactId>

	  </dependency>
	  <dependency>
		<groupId>commons-io</groupId>
		<artifactId>commons-io</artifactId>
		<version>1.3.2</version>
		<type>jar</type>
		<scope>compile</scope>
	  </dependency>
	  <dependency>
		<groupId>commons-codec</groupId>
		<artifactId>commons-codec</artifactId>
		<version>1.4</version>
		<type>jar</type>
		<scope>compile</scope>
	  </dependency>
	  <dependency>
		<groupId>org.jboss.arquillian</groupId>
		<artifactId>arquillian-junit</artifactId>
		<version>${arquillian.version}</version>
		<scope>test</scope>
	  </dependency>
	  <dependency>
		<groupId>commons-lang</groupId>
		<artifactId>commons-lang</artifactId>
		<scope>compile</scope>
	  </dependency>
	  <dependency>
        <groupId>org.hibernate</groupId>
        <artifactId>hibernate-annotations</artifactId>
        <version>${hibernate.version}</version>
        <scope>provided</scope>
      </dependency>
	</dependencies>
	
	<build>
	  <!-- include the WSDL files and the Java source files -->
	  <resources>
		<resource>
		  <directory>src/main/java</directory>
		</resource>
			<resource>
			  <directory>target/generated/wsdl</directory>
			</resource>
			<resource>
			   <directory>src/main/resources</directory>
		</resource>
	  </resources>
	  <plugins>
		<plugin>
		  <groupId>org.apache.maven.plugins</groupId>
		  <artifactId>maven-compiler-plugin</artifactId>
		</plugin>
		<plugin>
		<!-- Generate WSDL file from Java source -->
		  <groupId>org.apache.cxf</groupId>
		  <artifactId>cxf-java2ws-plugin</artifactId>
		  <version>${cxf.version}</version>
		  <dependencies>
			<dependency>
			  <groupId>log4j</groupId>
			  <artifactId>log4j</artifactId>
			  <version>${log4j.version}</version>
			<!-- Same as the dependency in commons-logging -->
			</dependency>
			<dependency>
				<groupId>com.sun.javaee</groupId>
				<artifactId>javaee</artifactId>
				<version>${javaee.version}</version>
			</dependency>
			<dependency>
			  <groupId>org.apache.cxf</groupId>
			  <artifactId>cxf-rt-frontend-jaxws</artifactId>
			  <version>${cxf.version}</version>
			  </dependency>
			<dependency>
			  <groupId>org.apache.cxf</groupId>
			  <artifactId>cxf-rt-frontend-simple</artifactId>
			  <version>${cxf.version}</version>
			</dependency>
			<dependency>
			  <groupId>io.openwis.management.service</groupId>
			  <artifactId>openwis-management-service-common</artifactId>
			  <version>${project.version}</version>
			  <type>jar</type>
			</dependency>
		  </dependencies>
		  <executions>
			<!-- Alert Service -->
			<execution>
			  <id>alert-service-wsdl</id>
			  <phase>process-classes</phase>
			  <goals>
				<goal>java2ws</goal>
			  </goals>
			  <configuration>
				<className>org.openwis.management.service.AlertServiceImpl</className>
				<targetNameSpace>http://alert.management.openwis.org/</targetNameSpace>
				<genWsdl>true</genWsdl>
				<verbose>true</verbose>
				<outputFile>${project.build.directory}/generated/wsdl/AlertService.wsdl</outputFile>
				<argline>-createxsdimports</argline>
				</configuration>
			</execution>
			<!-- Monitoring Services -->
			<execution>
			  <id>disseminated-data-statistics-wsdl</id>
			  <phase>process-classes</phase>
			  <goals>
				<goal>java2ws</goal>
			  </goals>
			  <configuration>
				<className>org.openwis.management.service.DisseminatedDataStatisticsImpl</className>
				<targetNameSpace>http://monitoring.management.openwis.org/</targetNameSpace>
				<genWsdl>true</genWsdl>
				<verbose>true</verbose>
				<outputFile>${project.build.directory}/generated/wsdl/DisseminatedDataStatistics.wsdl</outputFile>
				<argline>-createxsdimports</argline>
			  </configuration>
			</execution>
			<execution>
			  <id>exchanged-data-statistics-wsdl</id>
			  <phase>process-classes</phase>
			  <goals>
				<goal>java2ws</goal>
			  </goals>
			  <configuration>
				<className>org.openwis.management.service.ExchangedDataStatisticsImpl</className>
				<targetNameSpace>http://monitoring.management.openwis.org/</targetNameSpace>
				<genWsdl>true</genWsdl>
				<verbose>true</verbose>
				<outputFile>${project.build.directory}/generated/wsdl/ExchangedDataStatistics.wsdl</outputFile>
				<argline>-createxsdimports</argline>
			  </configuration>
			</execution>
			<execution>
			  <id>ingested-data-statistics-wsdl</id>
			  <phase>process-classes</phase>
			  <goals>
				<goal>java2ws</goal>
			  </goals>
			  <configuration>
				<className>org.openwis.management.service.IngestedDataStatisticsImpl</className>
				<targetNameSpace>http://monitoring.management.openwis.org/</targetNameSpace>
				<genWsdl>true</genWsdl>
				<verbose>true</verbose>
				<outputFile>${project.build.directory}/generated/wsdl/IngestedDataStatistics.wsdl</outputFile>
				<argline>-createxsdimports</argline>
			  </configuration>
			</execution>
			<execution>
			  <id>replicated-data-statistics-wsdl</id>
			  <phase>process-classes</phase>
			  <goals>
				<goal>java2ws</goal>
			  </goals>
			  <configuration>
				<className>org.openwis.management.service.ReplicatedDataStatisticsImpl</className>
				<targetNameSpace>http://monitoring.management.openwis.org/</targetNameSpace>
				<genWsdl>true</genWsdl>
				<verbose>true</verbose>
				<outputFile>${project.build.directory}/generated/wsdl/ReplicatedDataStatistics.wsdl</outputFile>
				<argline>-createxsdimports</argline>
			  </configuration>
			</execution>
			<!-- Control Service -->
			<execution>
			  <id>control-service-wsdl</id>
			  <phase>process-classes</phase>
			  <goals>
				<goal>java2ws</goal>
			  </goals>
			  <configuration>
				<className>org.openwis.management.service.ControlServiceImpl</className>
				<targetNameSpace>http://control.management.openwis.org/</targetNameSpace>
				<genWsdl>true</genWsdl>
				<verbose>true</verbose>
				<outputFile>${project.build.directory}/generated/wsdl/ControlService.wsdl</outputFile>
				<argline>-createxsdimports</argline>
			  </configuration>
			</execution>
		  </executions>
		</plugin>
	  </plugins>
	</build>

</project>
